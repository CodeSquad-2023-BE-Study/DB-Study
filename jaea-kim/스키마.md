# 데이터베이스 시스템
## 스키마
1. 외부스키마
사용자에게 필요한 데이터베이스를 정의한 것  
하나의 데이터베이스에는 외부 스키마가 여러 개 존재할 수 있음   
mysql에서는 외부 스키마라는 고유의 개념은 존재하지 않음 -> 데이터베이스 == 스키마라서   
외부 스키마는 데이터베이스 설계, 아키텍처 설계, 데이터 통합, 데이터 웨어하우스 등의 분야에서 데이터베이스의 논리적인 구조를 정의하고 이해하는데 사용되는 개념   
2. 개념스키마
데이터베이스 관리 시스템 관점에서 모든 사용자에게 필요한 데이터를 통합하여 전체 데이터베이스의 논리적 구조를 정의한 것   
하나의 데이터베이스에는 개념 스키마가 하나만 존재    
데이터베이스 시스템에서 관리되는 메타데이터   
3. 내부스키마
데이터베이스 시스템의 물리적 저장 구조를 정의하는 것   
하나의 데이터베이스에는 하나만 존재   
데이터베이스 시스템에서 관리되는 메타데이터   
::DB 벤더마다 스키마에 대한 역할, 정의가 조금씩 다르므로 혼동하지 말기::   
스키마 3계층(데이터베이스 시스템)에서 나오는 개념과 DB 벤더에서 사용되는 스키마란 용어는 다름
## 사상 / 매핑
스키마 사이의 대응 관계     
일반적으로 각 스키마의 사상은 데이터베이스 시스템이 처리..    
## 데이터 사전
데이터베이스 관리 시스템을 효율적으로 사용하기 위해 데이터베이스에 저장된 정보를 요약한 것    
-> 메타데이터를 유지하는 것     
* 데이터의 정보를 분류하고 처리하기 위한 시스템과 절차로서 데이터를 이해하는 과정에서 발생하는 오류 또는 데이터 해석상의 어려움을 제거하기 위해 사용     
* 테이블과 뷰로 정의      
> **저장되는 정보**
> 1. 데이터베이스 스키마 객체 정보   
> 테이블, 인덱스, 뷰 등    
> 2. 사용자 정보   
> 이름, 권한 등   
> 3.  테이블과 컬럼 속성 정보   
> 사용 가능한 디스크 용량, 컬럼 타입, 기본값 등    
> 4. 테이블의 무결성 제약조건 정보    
> 기본 키, 외래 키, NULL 값 허용 여부 등     
> 5. 디스크 구조 정보    
> 테이블 스페이스, 데이터 파일, 세그먼트, 사용자 및 테이블 등    
> 6. 히스토그램(Histogram) 정보     
> 주로 많이 사용되는 컬럼 값, 컬럼 값의 분포 등     

## information_schema
시스템 데이터베이스(중에서도 데이터 사전)에 관한 정보가 있는 DB    
		* 시스템 데이터베이스에는 데이터 사전과 데이터 디렉터리(데이터 사전에 있는 데이터에 실제로 접근하는데 필요한 위치 정보)가 있는데 데이터 디렉터리는 시스템만 접근할 수 있음     
mysql 서버 내에 존재하는 DB의 메타 정보를 모아둔 DB     
실제로 이 데이터베이스 내의 테이블은 레코드를 가지고 있지 않고 조회할 때마다 메타 정보를 mysql 서버의 메모리에서 가져와서 보여줌     
### 존재하는 테이블
CHARACTER_SETS - 사용가능한 모든 문자 셋에 대한 정보    
COLLATIONS - 사용 가능한 모든 콜레션에 대한 정보     
		* 콜레션은 DB에 저장된 값들을 비교,검색하거나 정렬등의 작업을 위한 문자들을 서로 비교할 때 사용하는 규칙들의 집합    
COLUMNS - 테이블 칼럼의 콜레션 정보    
		* Char,varchar.text형태의 컬럼은 콜레션을 가짐    
COLUMN_PRIVILEGES - 테이블 칼럼 권한에 대한 정보    
KEY_COLUMN_USAGE - 제약사항을 가지고 있는 키 컬럼에 대한 정보를 제공    
ROUTINES - 스토어드 루틴에 대한 정보를 제공    
		* 스토어드 루틴이란 DB상에 저장이 가능한 SQL구문   
SCHEMATA - SCHEMATA는 DB의 정보를 제공
TABLES - 데이터베이스에 존재하는 테이블에 대한 정보 제공
TRIGGER - 트리거에 대한 정보 제공
		* 트리거란 테이블에 대한 이벤트에 반응하여 자동으로 실행되는 작업   
USER_PRIVILEGES - 글로벌 권한에 대한 정보를 제공   
		* 글로벌 권한은 모든 DB에 대한 권한이 주어지는 권한   
VIEW - DB에 있는 뷰에 대한 정보를 제공    
더 많은 테이블에 대한 정보는 -> [MySQL :: MySQL Information Schema :: 3 INFORMATION_SCHEMA Table Reference](https://dev.mysql.com/doc/mysql-infoschema-excerpt/8.0/en/information-schema-table-reference.html)
### 쿼리로 알아보자
데이터베이스에 관한 중요한 정보들을 저장하고 있기에 권한이 있는 사용자만 조회를 할 수 있다    
`SELECT grantee,privilege_type,is_grantable FROM information_schema.user_privileges;`    
	* grantee : 사용자    
	* privileger_type : 권한 목록     
	* is_grantable : 사용여부  
 ![unknown](https://github.com/CodeSquad-2023-BE-Study/DB-Study/assets/115435482/5e21e81f-77e1-449a-8e30-585111a2a972)

## mysql
mysql 서버가 운영될 때 필요한 정보를 가지고 있음    
사용자 계정과 권한 정보, 테이블 구조, 인덱스, 트리거 등에 대한 메타데이터가 저장되어 사용자 및 권한 관리에 필요한 데이터베이스     
## performance_schema     
mysql 서버가 운영중일 때 실행단의 여러 작업들을 모니터링할 때 사용    
